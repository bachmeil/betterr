<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>example</title>
  <style type="text/css">code{white-space: pre;}</style>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css">

</head>
<body>
<div class="container"><br><br>
<h1 id="an-example">An Example</h1>
<p>Here’s a simple example to get you started. Save the following in a file called example.d.</p>
<pre><code>import betterr.r, betterr.vector;
import std.stdio;

void main() {
  startR();
  auto v = Vector([1.1, 2.2, 3.3]);
  writeln(v);
  foreach(ii; 0..3) {
    v[ii] = v[ii]*2.5;
  }
  writeln(v);
  closeR();
}</code></pre>
<p>Compile as described on the <a href="compiling.html">compiling</a> page and run:</p>
<pre><code>ldmd2 -i example.d -L/usr/lib/R/library/RInside/lib/libRInside.so -L-lR
./example</code></pre>
<h2 id="notes">Notes</h2>
<ol type="1">
<li>Always start your program with <code>startR()</code> and end it with <code>closeR()</code>. If you don’t do that, you’re likely to run into segfaults for no obvious reason. The first thing you should check if getting segfaults is that you’ve called <code>startR</code>.</li>
<li><code>betterr.r</code> provides basic interoperability features. <code>startR</code> and <code>closeR</code> are located in that module.</li>
<li><code>betterr.vector</code> provides the <code>Vector</code> data structure.</li>
<li><code>writeln</code> uses R to print the value of an R object, so the printed output will be in a familiar format if you’ve worked with R before.</li>
</ol>

<br>
<a href="index.html">Index</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://github.com/bachmeil/betterr">Repo</a>
</div>
<br><br>
</body>
</html>
